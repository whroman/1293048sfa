{"version":3,"sources":["util.coffee","util.js","apps/list.coffee","apps/list.js","collections/tasks.coffee","collections/tasks.js","controllers/tasksList.coffee","controllers/tasksList.js","directives/focusWhen.coffee","directives/focusWhen.js"],"names":["angular","module","factory","$rootScope","$window","Util","mediaQuery","$el","element","document","getElementById","get","this","css","typeIsArray","Array","isArray","value","toString","call","CollectionTasks","Form","Input","Task","name","initialValue","val","input","hasChanged","focused","prototype","reset","$event","console","log","onChange","stopPropagation","save","onFocus","onClick","onKeypress","keyCode","all","set","initVal","task","generateRandomIncreasingInts","NAME","CODE","DESC","ID","CATEGORY","CD","parseInt","isSelected","display","moment","format","form","num","start","mult","i","ints","j","ref","Math","floor","random","push","chart","labels","series","data","length","order","keys","Name","Code","Description","Completion Date","by","reverse","fieldName","uid","len","tasksArray","contains","controller","$scope","$http","tasks","logScope","directive","$timeout","$parse","link","scope","attrs","model","focusWhen","$watch","focus","bind","$apply","assign"],"mappings":"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","file":"app.js","sourcesContent":["angular\n.module('Util', [\n# Dependencies\n])\n.factory 'Util', (\n# Dependency Injections\n    $rootScope\n    $window\n) ->\n    Util = {}\n    Util.mediaQuery = {}\n        # Cache jQuery selection, whose `z-index` value describes current media query state\n    Util.mediaQuery.$el = angular.element document.getElementById('media-query')\n        # Query current media query state\n    Util.mediaQuery.get = ->\n        this.$el.css 'z-index'\n\n    Util.typeIsArray = Array.isArray || ( value ) -> return {}.toString.call( value ) is '[object Array]'\n\n    Util",null,"angular.module 'App:List', [\n    'Controller:TasksList'\n    'Util'\n    'focusWhen'\n    'ngMaterial'\n    'chart.js'\n]",null,"angular\n.module('Collection:Tasks', [\n # Dependencies\n    'Util'\n])\n.factory 'CollectionTasks', (\n # Dependency Injections\n    $rootScope\n    Util\n) ->\n    class Input\n        constructor: (name, initialValue) ->\n            @val = initialValue\n            @input = initialValue\n            @hasChanged = false\n            @focused = false\n\n        reset: ($event) ->\n            console.log 'reset'\n            @input = @val\n            @onChange()\n            if $event\n                $event.stopPropagation()\n\n        save: ($event) ->\n            console.log 'save'\n            @val = @input\n            @onChange()\n            if $event\n                $event.stopPropagation()\n\n        onFocus: ->\n            if !@hasChanged\n                @reset()\n\n        onClick: ($event) ->\n            @focused = true\n            if $event\n                $event.stopPropagation()\n\n        onChange: ->\n            @hasChanged = @val isnt @input\n\n        onKeypress: ($event) ->\n            if $event.keyCode is 27 # 27 = escape key\n                @reset($event)\n\n            if $event.keyCode is 13 # 13 = enter key\n                @save($event)\n\n    class Form\n        constructor: () ->\n            @all = {};\n\n        set: (name, initVal) ->\n            @all[name] = new Input name, initVal\n\n            @\n\n    class Task\n        constructor: (task) ->\n            # Data\n            @NAME = task.NAME\n            @CODE = task.CODE\n            @DESC = task.DESC\n            @ID = task.ID\n            @CATEGORY = task.CATEGORY\n            @CD = parseInt task.CD\n\n            # UI\n            @isSelected = false\n\n            @display = {}\n            @display.CD = moment(@CD, 'x').format('YYYY-M-D')\n\n            @onClick = ($event) ->\n                if $event.keyCode\n                    return\n                @isSelected = !@isSelected\n\n            @form = new Form\n            @form\n                .set 'desc', @DESC\n                .set 'cd', @display.CD\n\n            generateRandomIncreasingInts = (num, start, mult) ->\n                ints = []\n                for i in [1..num] by 1\n                    start += Math.floor(Math.random() * mult)\n                    ints.push(start)\n\n                ints\n\n            @chart = {}\n            @chart.labels = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\"]\n            @chart.series = ['Outstanding Category Tasks', 'Completed Category Tasks']\n            @chart.data = [\n                generateRandomIncreasingInts(@chart.labels.length, 100, -20),\n                generateRandomIncreasingInts(@chart.labels.length, 10, 30)\n            ]\n\n\n    class CollectionTasks\n        constructor: () ->\n            @all = []\n            @order = {};\n            @order.keys = [\n                'Name': 'NAME'\n                'Code': 'CODE'\n                'Description': 'DESC'\n                'Completion Date': 'CD'\n            ]\n            @order.by = 'CD'\n            @order.reverse = false\n            @order.set = (fieldName) ->\n                if fieldName is @by\n                    @reverse = !@reverse\n                else\n                    @reverse = false\n\n                @by = fieldName\n\n        get: (uid) ->\n            @all[uid]\n\n        set: (task) ->\n            if Util.typeIsArray task\n                tasksArray = task\n                for task in tasksArray\n\n                    @set task\n\n            else\n                @all.push( new Task task )\n\n            return @\n\n        contains: (uid) ->\n            @all[uid] isnt undefined\n\n\n\n    CollectionTasks",null,"angular\n.module('Controller:TasksList', [\n    'Collection:Tasks'\n    'Util'\n])\n.controller 'Controller:TasksList', (\n# Dependency Injections\n    $scope\n    $window\n    $http\n    CollectionTasks\n) ->\n    $scope.tasks = new CollectionTasks\n\n    $scope.tasks.set $window.tasks\n\n    $window.logScope = ->\n        $window.$scope = $scope",null,"# Apply this directive to an <input> element.\n#    - The element will be \"focused\" when the given value is true (value === true)\n#    - When the element is blurred, the given value will be set to false\n#\n# Example:\n# When #address-wrapper is clicked, the browser's focus will shift to input#address\n\n# <div\n#     id=\"address-wrapper\"\n#     ng-init=\"focusInputAddress = false\"\n#     ng-click=\"focusInputAddress = true\"\n# >\n#   <label for=\"address\">Address:</label>\n#   <input\n#       id=\"address\"\n#       type=\"text\"\n#       ng-model=\"address\"\n#       focus-when=\"focusInputAddress\"\n#   />\n#   <div id=\"confirmAddressIcon\"></div>\n# </div>\n# //\n# - Walter Roman\n\nangular\n.module 'focusWhen', []\n.directive 'focusWhen', ($timeout, $parse) ->\n    {\n        link: (scope, element, attrs) ->\n            model = $parse attrs.focusWhen\n            scope.$watch model, (value) ->\n                if value is true\n                    # $timeout in place to give elements time to render\n                    $timeout () ->\n                        element[0].focus()\n\n            element.bind 'blur', ->\n                 scope.$apply model.assign scope, false\n    }",null],"sourceRoot":"/source/"}